<html>
	<head>
		<meta charset='utf8'>
	
		<base href='http://dev.martian-arts.org/deeplinking/javascript/jquery/'>
		
		<script src='jquery.js'></script>
		<script src='jquery.deeplinking.js'></script>
		
		<script>
		
			$(document).ready(function()
			{
				jQuery.deeplinking.oninternalchange = onchange;
				jQuery.deeplinking.onexternalchange = onchange;
				jQuery.deeplinking.log = log;
				
				$('body .title').not(':first').addClass('hidden');
				
				onchange();
			});
		
		
			var i = 1;
		
			function previous()
			{
				if (i == 1) { return; }
				jQuery.deeplinking.value('h' + (--i));
			}
			
			function next()
			{
				if (i == 6) { return; }
				jQuery.deeplinking.value('h' + (++i));
			}
			
			function onchange(type)
			{
				if (type != undefined) { log('event handling'); }
			
				var url = jQuery.deeplinking.value();
				
				if (type == 'external') { value = parseInt(url.charAt(1)); }
				
				switch(url)
				{
					default:
						jQuery.deeplinking.value('h1');
						return;
					
					case 'h1':
					case 'h2':
					case 'h3':
					case 'h4':
					case 'h5':
					case 'h6':
						$('.title').removeClass('visible').addClass('hidden');
						$(url + '.title').removeClass('hidden').addClass('visible');
						return;
				}
			}
			
			function log()
			{
				var args = new Array();
				for (var i = 0; i < 10; i++) { args.push(arguments[i]); }
				
				$('#log').prepend(args.join(' ') + '<br/>');
			}
		
		</script>

		<style>
			body
			{
				font:9px/1 Helvetica, Arial;
				background:#f5f5f5;
			}
		
			a
			{
				position:absolute;
				
				top:10px;

				padding:4px 7px;
				
				background-color: #ddd;
				border-color: #ddd #ccc #aaa;
				border-radius: 12px 12px 12px 12px;
				border-style: solid;
				border-width: 1px;
				box-shadow: 0 1px 0 0 white inset;

				color:#666;
				text-align: center;
				text-shadow: 0 1px 1px #FFFFFF;
				text-decoration:none;
			}
		
			#log
			{
				position:absolute;
				
				top:10px;
				right:10px;
				
				width: 200px;
				height: 150px;
				padding: 10px;
				overflow-y: scroll;
				background: none repeat scroll 0 0 #CCCCCC;
				box-shadow:0 0 4px #fff, 0 0 4px #888888 inset;
				border-radius:4px;
				color:#555;
			}
		
			.title
			{
				position:absolute;
				
				left:10px;
				top:50px;
			}
		
			.visible { display:block; }
			.hidden { display:none; }
		</style>
	</head>
	
	<body'>
		<a href='javascript:previous()' style='left:10px;'>Contenu précédent</a>
		<a href='javascript:next()' style='left:125px;'>Contenu suivant</a>
	
		<h1 class='title'>Contenu 1</h1>
		<h2 class='title'>Contenu 2</h2>
		<h3 class='title'>Contenu 3</h3>
		<h4 class='title'>Contenu 4</h4>
		<h5 class='title'>Contenu 5</h5>
		<h6 class='title'>Contenu 6</h6>

		<div id='log'></div>
	</body>
		
</html>
		
		